<!DOCTYPE html>

<html lang="pt-BR">

<head>

    <meta charset="UTF-8">

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Gerador de Atestado de Matrícula</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <style>

        body {

            display: flex;

            align-items: center;

            justify-content: center;

            min-height: 100dvh;

            background-color: #f8f9fa;

        }

        .container {

            max-width: 500px;

        }

        .card {

            border: none;

            box-shadow: 0 4px 8px rgba(0,0,0,0.1);

        }

    </style>

</head>

<body>



<div class="container text-center">

    <div class="card p-4">

        <h1 class="mb-4 fs-4">Gerador de Comprovante</h1>

        <form id="form-gerador">

            

            <div class="form-floating mb-3">

                <input type="text" class="form-control" id="nomeCompleto" placeholder="Nome Completo do Aluno" required>

                <label for="nomeCompleto">Nome Completo do Aluno</label>

            </div>



            <div class="form-floating mb-3">

                <input type="text" class="form-control" id="cpfAluno" placeholder="000.000.000-00" maxlength="14" required>

                <label for="cpfAluno">CPF do Aluno</label>

            </div>



            <div class="form-floating mb-4">

                <select class="form-select" id="faculdade" required>

                    <option value="" selected disabled>Selecione a Faculdade</option>

                    <option value="ufg.html">UFG</option>

                    <option value="puc.html">PUC</option>

                    <option value="anhanguera.html">Anhanguera</option>

                </select>

                <label for="faculdade">Faculdade</label>

            </div>



            <button type="submit" class="btn btn-primary w-100 py-2">Gerar Documento</button>

        </form>

    </div>

</div>



<script>

    // 1. MÁSCARA DE CPF (Formata enquanto digita)

    const inputCPF = document.getElementById('cpfAluno');



    inputCPF.addEventListener('input', function(e) {

        let value = e.target.value;

        

        // Remove tudo que não é dígito

        value = value.replace(/\D/g, "");

        

        // Aplica a formatação

        value = value.replace(/(\d{3})(\d)/, "$1.$2");

        value = value.replace(/(\d{3})(\d)/, "$1.$2");

        value = value.replace(/(\d{3})(\d{1,2})$/, "$1-$2");

        

        e.target.value = value;

    });



    // 2. ENVIO DO FORMULÁRIO

    document.getElementById('form-gerador').addEventListener('submit', function(event) {

        event.preventDefault(); // Evita o envio padrão



        const nome = document.getElementById('nomeCompleto').value;

        const cpf = document.getElementById('cpfAluno').value;

        const arquivo = document.getElementById('faculdade').value;



        if (nome && cpf && arquivo) {

            // Codifica para URL segura

            const nomeCodificado = encodeURIComponent(nome);

            const cpfCodificado = encodeURIComponent(cpf);



            // Redireciona passando NOME e CPF

            window.location.href = `${arquivo}?nome=${nomeCodificado}&cpf=${cpfCodificado}`;

        } else {

            alert('Por favor, preencha todos os campos.');

        }

    });

</script>



</body>

</html>
